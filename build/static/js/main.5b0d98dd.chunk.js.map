{"version":3,"sources":["components/Filter.js","components/PeopleForm.js","components/NamesList.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","filterName","handleFilterChange","react_default","a","createElement","value","onChange","PeopleForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","NameList","persons","removePhone","filtered","filter","person","name","toLowerCase","includes","map","key","number","onClick","id","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","error","baseUrl","services_persons","axios","get","then","response","data","newObject","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilterName","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","personsService","allPersons","components_Notification","components_Error","components_Filter","event","target","components_PeopleForm","preventDefault","personObject","nameInDB","find","console","log","window","confirm","returnedPerson","setTimeout","catch","NamesList","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.5b0d98dd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filterName, handleFilterChange}) => {\n  return (\n    <div>\n      <div>\n        filter shown with <input\n        value = {filterName}\n        onChange = {handleFilterChange}\n      />\n      </div>\n    </div>\n)}\n\nexport default Filter\n","import React from \"react\"\n\nconst PeopleForm = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange}) => {\n  return (\n      <div>\n      <h2>Add a new</h2>\n      <form onSubmit={addPerson}>\n      <div>\n        name: <input\n        value = {newName}\n        onChange ={handleNameChange}\n        />\n      </div>\n      <div>\n        number: <input\n        value = {newNumber}\n        onChange ={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  </div>\n  )\n}\n\n\n\nexport default PeopleForm\n","import React from 'react'\n\nconst NameList = ({persons, filterName, removePhone}) => {\n  const filtered = \"\"\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase()))\n  return (\n    <div>\n    {filtered.map(name =>\n    <p key={name.name}>{name.name} {name.number}\n    <button\n    onClick={removePhone}\n    value={name.id}\n    name={name.name}\n    >delete</button>\n    </p>\n    )}\n  </div>\n)}\n\nexport default NameList\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  const notificationStyle = {\n      color: \"green\",\n      background: \"lightgrey\",\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification\n","import React from 'react'\n\nconst Error= ({ error}) => {\n  if (error === null) {\n    return null\n  }\n\n  const errorStyle = {\n      color: \"red\",\n      background: \"lightgrey\",\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n  }\n\n  return (\n    <div style={errorStyle}>\n      {error}\n    </div>\n  )\n}\n\nexport default Error\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\n\n  export default { getAll, create, remove, update }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PeopleForm from './components/PeopleForm'\nimport NamesList from './components/NamesList'\nimport Notifications from './components/Notification'\nimport Error from './components/Error'\n\nimport personsService from './services/persons'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterName, setFilterName] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(allPersons=> {\n        setPersons(allPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterName(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    const nameInDB = persons.find(person => person.name === newName)\n    console.log(newName, \"newname\")\n      if (nameInDB) { // check if name already exists\n        console.log(nameInDB, \"nameindb\")\n        if (window.confirm(`${personObject.name} is already in the phonebook,\n            replace the old number with the new one?`)) {\n\n          console.log(nameInDB.id, \"id\")\n          personsService\n            .update(nameInDB.id, personObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(person =>\n                person.id !== nameInDB.id ? person : returnedPerson))\n              setNewName('')\n              setNewNumber('')\n              setNotificationMessage(\n                `note: ${personObject.name}'s contact was updated`\n              )\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000);\n            })\n            .catch(error => {\n              setErrorMessage(\n                `error: information from\n                ${personObject.name} has already been removed\n                from the server`\n              )\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000);\n            })\n        }\n    } else {\n        personsService\n          .create(personObject)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setNotificationMessage(\n              `note: ${personObject.name} was added to the contact list`\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000);\n        })\n      }\n  }\n\n  const removePhone = (event) => {\n    const name = event.target.name\n    const id = event.target.value\n    if (window\n      .confirm(`Do you really want to delete ${name}'s contact?`)) {\n        personsService\n          .remove(id)\n          .then(allPersons => {\n            console.log(allPersons)\n            setPersons(persons.filter(person => person.name !== name ))\n            setNotificationMessage(\n              `note: ${name} was removed`\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000);\n          })\n          .catch(error => {\n            setErrorMessage(\n              `error: information from\n              ${event.target.name} has already been removed\n              from the server`\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000);\n          })\n      }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notifications message={notificationMessage}/>\n      <Error error={errorMessage}/>\n      <Filter filterName={filterName} handleFilterChange={handleFilterChange}/>\n      <PeopleForm\n      addPerson={addPerson}\n      newName={newName}\n      handleNameChange={handleNameChange}\n      newNumber={newNumber}\n      handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <div>New name: {newName}</div>\n      <NamesList\n      persons={persons}\n      filterName={filterName}\n      removePhone={removePhone}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\n\nimport App from './App';\n\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)\n"],"sourceRoot":""}